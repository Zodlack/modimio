# Анализ логов nginx

Веб-приложение для парсинга и анализа логов веб-сервера nginx на базе фреймворка Yii2.

## Возможности

- Парсинг логов nginx с извлечением IP адресов, дат/времени, URL, User-Agent
- Анализ User-Agent для определения операционной системы, архитектуры и браузера
- Визуализация данных в виде графиков и таблиц
- Фильтрация по датам, операционным системам и архитектурам
- Сортировка данных по всем колонкам таблицы

## Установка

1. Клонируйте репозиторий
2. Установите зависимости: `composer install`
3. Настройте подключение к базе данных в `config/db.php`
4. Выполните миграции: `php yii migrate`
5. Загрузите данные из логов: `php yii parse-logs`

## Использование

### Загрузка данных из логов

```bash
# Парсинг файла по умолчанию (modimio.access.log.1)
php yii parse-logs

# Парсинг указанного файла
php yii parse-logs /path/to/access.log
```

### Просмотр статистики

Откройте главную страницу приложения для просмотра:
- Графика количества запросов по дням
- Графика доли браузеров по дням
- Таблицы с детальной статистикой
- Фильтров по датам, ОС и архитектуре

## Структура проекта

- `models/LogEntry.php` - модель для работы с данными логов
- `controllers/SiteController.php` - контроллер для отображения статистики
- `commands/ParseLogsController.php` - консольная команда для парсинга логов
- `views/site/index.php` - представление с графиками и таблицей
- `migrations/` - миграции для создания таблиц БД

## Технологии

- Yii2 Framework
- MySQL/SQLite
- Chart.js для графиков
- Bootstrap для интерфейса

## Лицензия

BSD-3-Clause
